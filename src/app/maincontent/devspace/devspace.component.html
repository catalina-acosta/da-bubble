<section>
  <div class="devspace_bar">
    <img class="logo_size" src="./assets/icon/Workspace logo.svg" alt="logo" />
    <h1>Devspace</h1>
    <svg
      class="right"
      width="21"
      height="21"
      viewBox="0 0 21 21"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M2 20.7C1.45 20.7 0.979167 20.5042 0.5875 20.1125C0.195833 19.7209 0 19.25 0 18.7V4.70005C0 4.15005 0.195833 3.67922 0.5875 3.28755C0.979167 2.89588 1.45 2.70005 2 2.70005H10.925L8.925 4.70005H2V18.7H16V11.75L18 9.75005V18.7C18 19.25 17.8042 19.7209 17.4125 20.1125C17.0208 20.5042 16.55 20.7 16 20.7H2ZM13.175 3.27505L14.6 4.67505L8 11.275V12.7H9.4L16.025 6.07505L17.45 7.47505L10.825 14.1C10.6417 14.2834 10.4292 14.4292 10.1875 14.5375C9.94583 14.6459 9.69167 14.7 9.425 14.7H7C6.71667 14.7 6.47917 14.6042 6.2875 14.4125C6.09583 14.2209 6 13.9834 6 13.7V11.275C6 11.0084 6.05 10.7542 6.15 10.5125C6.25 10.2709 6.39167 10.0584 6.575 9.87505L13.175 3.27505ZM17.45 7.47505L13.175 3.27505L15.675 0.775049C16.075 0.375049 16.5542 0.175049 17.1125 0.175049C17.6708 0.175049 18.1417 0.375049 18.525 0.775049L19.925 2.20005C20.3083 2.58338 20.5 3.05005 20.5 3.60005C20.5 4.15005 20.3083 4.61672 19.925 5.00005L17.45 7.47505Z"
        fill="black"
      />
    </svg>
  </div>

  <!-- open channel dialog -->
  @if (isClicked) {
  <div class="overlay" (click)="closeDialog()">
    <div class="dialog-wrapper" (click)="$event.stopPropagation()">
      <app-add-channeldialog
        (close)="isClicked = false"
      ></app-add-channeldialog>
    </div>
  </div>
  }

  <!-- channel -->
  <div class="channel_bar">
    <div class="channel_dropdown" (click)="onToggleClickChannels()">
      <svg
        class="chevron-icon"
        [class.rotated]="!isChannelsVisible"
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_235_344"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="30"
          height="30"
        >
          <rect width="30" height="30" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_235_344)">
          <path
            d="M14.1248 17.875L10.8748 14.625C10.479 14.2292 10.3907 13.7762 10.6098 13.2662C10.8282 12.7554 11.2186 12.5 11.7811 12.5H18.2186C18.7811 12.5 19.1715 12.7554 19.3898 13.2662C19.609 13.7762 19.5207 14.2292 19.1248 14.625L15.8748 17.875C15.7498 18 15.6144 18.0937 15.4686 18.1562C15.3227 18.2187 15.1665 18.25 14.9998 18.25C14.8332 18.25 14.6769 18.2187 14.5311 18.1562C14.3852 18.0937 14.2498 18 14.1248 17.875Z"
            fill="black"
          />
        </g>
      </svg>

      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_813_12191"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="24"
          height="24"
        >
          <rect width="24" height="24" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_813_12191)">
          <path
            d="M6 21C4.9 21 3.95833 20.6083 3.175 19.825C2.39167 19.0417 2 18.1 2 17C2 15.9 2.39167 14.9583 3.175 14.175C3.95833 13.3917 4.9 13 6 13C7.1 13 8.04167 13.3917 8.825 14.175C9.60833 14.9583 10 15.9 10 17C10 18.1 9.60833 19.0417 8.825 19.825C8.04167 20.6083 7.1 21 6 21ZM18 21C16.9 21 15.9583 20.6083 15.175 19.825C14.3917 19.0417 14 18.1 14 17C14 15.9 14.3917 14.9583 15.175 14.175C15.9583 13.3917 16.9 13 18 13C19.1 13 20.0417 13.3917 20.825 14.175C21.6083 14.9583 22 15.9 22 17C22 18.1 21.6083 19.0417 20.825 19.825C20.0417 20.6083 19.1 21 18 21ZM6 19C6.55 19 7.02067 18.8043 7.412 18.413C7.804 18.021 8 17.55 8 17C8 16.45 7.804 15.9793 7.412 15.588C7.02067 15.196 6.55 15 6 15C5.45 15 4.97933 15.196 4.588 15.588C4.196 15.9793 4 16.45 4 17C4 17.55 4.196 18.021 4.588 18.413C4.97933 18.8043 5.45 19 6 19ZM18 19C18.55 19 19.021 18.8043 19.413 18.413C19.8043 18.021 20 17.55 20 17C20 16.45 19.8043 15.9793 19.413 15.588C19.021 15.196 18.55 15 18 15C17.45 15 16.979 15.196 16.587 15.588C16.1957 15.9793 16 16.45 16 17C16 17.55 16.1957 18.021 16.587 18.413C16.979 18.8043 17.45 19 18 19ZM12 11C10.9 11 9.95833 10.6083 9.175 9.825C8.39167 9.04167 8 8.1 8 7C8 5.9 8.39167 4.95833 9.175 4.175C9.95833 3.39167 10.9 3 12 3C13.1 3 14.0417 3.39167 14.825 4.175C15.6083 4.95833 16 5.9 16 7C16 8.1 15.6083 9.04167 14.825 9.825C14.0417 10.6083 13.1 11 12 11ZM12 9C12.55 9 13.021 8.804 13.413 8.412C13.8043 8.02067 14 7.55 14 7C14 6.45 13.8043 5.97933 13.413 5.588C13.021 5.196 12.55 5 12 5C11.45 5 10.9793 5.196 10.588 5.588C10.196 5.97933 10 6.45 10 7C10 7.55 10.196 8.02067 10.588 8.412C10.9793 8.804 11.45 9 12 9Z"
            fill="black"
          />
        </g>
      </svg>

      <p>Channels</p>
    </div>
    <div class="right btn_hover" (click)="openChannelDialog()">
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_235_338)">
          <mask
            id="mask0_235_338"
            style="mask-type: alpha"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="24"
            height="24"
          >
            <rect width="24" height="24" fill="#D9D9D9" />
          </mask>
          <g mask="url(#mask0_235_338)">
            <path
              d="M12 19C11.7167 19 11.4793 18.904 11.288 18.712C11.096 18.5207 11 18.2833 11 18V13H6C5.71667 13 5.479 12.904 5.287 12.712C5.09567 12.5207 5 12.2833 5 12C5 11.7167 5.09567 11.479 5.287 11.287C5.479 11.0957 5.71667 11 6 11H11V6C11 5.71667 11.096 5.479 11.288 5.287C11.4793 5.09567 11.7167 5 12 5C12.2833 5 12.521 5.09567 12.713 5.287C12.9043 5.479 13 5.71667 13 6V11H18C18.2833 11 18.5207 11.0957 18.712 11.287C18.904 11.479 19 11.7167 19 12C19 12.2833 18.904 12.5207 18.712 12.712C18.5207 12.904 18.2833 13 18 13H13V18C13 18.2833 12.9043 18.5207 12.713 18.712C12.521 18.904 12.2833 19 12 19Z"
              fill="black"
            />
          </g>
        </g>
        <defs>
          <clipPath id="clip0_235_338">
            <rect width="24" height="24" rx="12" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </div>
  </div>

  <!-- channel  dropdown-->
  <div class="channels_content" [class.hidden]="!isChannelsVisible">
    @for(channels of firebase.allChannels; track $index){
    <div class="channel_groups d_flex">
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_813_12093"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="24"
          height="24"
        >
          <rect width="24" height="24" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_813_12093)">
          <path
            d="M7.24995 20C6.93328 20 6.67495 19.875 6.47495 19.625C6.27495 19.375 6.21662 19.1 6.29995 18.8L6.99995 16H4.77495C4.44162 16 4.17495 15.871 3.97495 15.613C3.77495 15.3543 3.71661 15.0667 3.79995 14.75C3.84995 14.5167 3.96662 14.3333 4.14995 14.2C4.33328 14.0667 4.54162 14 4.77495 14H7.49995L8.49995 10H5.77495C5.44161 10 5.17495 9.871 4.97495 9.613C4.77495 9.35433 4.71662 9.06667 4.79995 8.75C4.84995 8.51667 4.96662 8.33333 5.14995 8.2C5.33328 8.06667 5.54162 8 5.77495 8H8.99995L9.82495 4.725C9.87495 4.50833 9.98328 4.33333 10.1499 4.2C10.3166 4.06667 10.5166 4 10.7499 4C11.0666 4 11.3249 4.125 11.5249 4.375C11.7249 4.625 11.7833 4.9 11.6999 5.2L10.9999 8H14.9999L15.8249 4.725C15.8749 4.50833 15.9833 4.33333 16.1499 4.2C16.3166 4.06667 16.5166 4 16.7499 4C17.0666 4 17.3249 4.125 17.5249 4.375C17.7249 4.625 17.7833 4.9 17.6999 5.2L16.9999 8H19.2249C19.5583 8 19.8249 8.129 20.0249 8.387C20.2249 8.64567 20.2833 8.93333 20.1999 9.25C20.15 9.48333 20.0333 9.66667 19.8499 9.8C19.6666 9.93333 19.4583 10 19.2249 10H16.4999L15.4999 14H18.2249C18.5583 14 18.8249 14.129 19.0249 14.387C19.2249 14.6457 19.2833 14.9333 19.1999 15.25C19.1499 15.4833 19.0333 15.6667 18.8499 15.8C18.6666 15.9333 18.4583 16 18.2249 16H14.9999L14.1749 19.275C14.1249 19.4917 14.0166 19.6667 13.8499 19.8C13.6833 19.9333 13.4833 20 13.2499 20C12.9333 20 12.6749 19.875 12.4749 19.625C12.2749 19.375 12.2166 19.1 12.2999 18.8L12.9999 16H8.99995L8.17495 19.275C8.12495 19.4917 8.01661 19.6667 7.84995 19.8C7.68328 19.9333 7.48328 20 7.24995 20ZM9.49995 14H13.4999L14.4999 10H10.4999L9.49995 14Z"
            fill="black"
          />
        </g>
      </svg>
      
      <span>{{ channels.channelName }}</span>
    </div>
    }
    <div class="add_channel_btn d_flex" (click)="openChannelDialog()">
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <mask
          id="mask0_235_367"
          style="mask-type: alpha"
          maskUnits="userSpaceOnUse"
          x="0"
          y="0"
          width="24"
          height="24"
        >
          <rect width="24" height="24" fill="#D9D9D9" />
        </mask>
        <g mask="url(#mask0_235_367)">
          <path
            d="M12 17C12.2833 17 12.521 16.904 12.713 16.712C12.9043 16.5207 13 16.2833 13 16V13H16.025C16.3083 13 16.5417 12.904 16.725 12.712C16.9083 12.5207 17 12.2833 17 12C17 11.7167 16.904 11.479 16.712 11.287C16.5207 11.0957 16.2833 11 16 11H13V7.975C13 7.69167 12.9043 7.45833 12.713 7.275C12.521 7.09167 12.2833 7 12 7C11.7167 7 11.4793 7.09567 11.288 7.287C11.096 7.479 11 7.71667 11 8V11H7.975C7.69167 11 7.45833 11.0957 7.275 11.287C7.09167 11.479 7 11.7167 7 12C7 12.2833 7.09567 12.5207 7.287 12.712C7.479 12.904 7.71667 13 8 13H11V16.025C11 16.3083 11.096 16.5417 11.288 16.725C11.4793 16.9083 11.7167 17 12 17ZM12 22C10.6167 22 9.31667 21.7373 8.1 21.212C6.88333 20.6873 5.825 19.975 4.925 19.075C4.025 18.175 3.31267 17.1167 2.788 15.9C2.26267 14.6833 2 13.3833 2 12C2 10.6167 2.26267 9.31667 2.788 8.1C3.31267 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.31233 8.1 2.787C9.31667 2.26233 10.6167 2 12 2C13.3833 2 14.6833 2.26233 15.9 2.787C17.1167 3.31233 18.175 4.025 19.075 4.925C19.975 5.825 20.6873 6.88333 21.212 8.1C21.7373 9.31667 22 10.6167 22 12C22 13.3833 21.7373 14.6833 21.212 15.9C20.6873 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6873 15.9 21.212C14.6833 21.7373 13.3833 22 12 22ZM12 20C14.2167 20 16.1043 19.221 17.663 17.663C19.221 16.1043 20 14.2167 20 12C20 9.78333 19.221 7.89567 17.663 6.337C16.1043 4.779 14.2167 4 12 4C9.78333 4 7.896 4.779 6.338 6.337C4.77933 7.89567 4 9.78333 4 12C4 14.2167 4.77933 16.1043 6.338 17.663C7.896 19.221 9.78333 20 12 20Z"
            fill="currentColor"
          />
        </g>
      </svg>
      <span>Channel hinzufügen</span>
    </div>
  </div>

  <!-- direktnachticht_content -->
  <div class="channel_dropdown" (click)="onToggleClick()">
    <svg
      class="chevron-icon"
      [class.rotated]="!isAvatarContentVisible"
      width="30"
      height="30"
      viewBox="0 0 30 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <mask
        id="mask0_235_344"
        style="mask-type: alpha"
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="30"
        height="30"
      >
        <rect width="30" height="30" fill="#D9D9D9" />
      </mask>
      <g mask="url(#mask0_235_344)">
        <path
          d="M14.1248 17.875L10.8748 14.625C10.479 14.2292 10.3907 13.7762 10.6098 13.2662C10.8282 12.7554 11.2186 12.5 11.7811 12.5H18.2186C18.7811 12.5 19.1715 12.7554 19.3898 13.2662C19.609 13.7762 19.5207 14.2292 19.1248 14.625L15.8748 17.875C15.7498 18 15.6144 18.0937 15.4686 18.1562C15.3227 18.2187 15.1665 18.25 14.9998 18.25C14.8332 18.25 14.6769 18.2187 14.5311 18.1562C14.3852 18.0937 14.2498 18 14.1248 17.875Z"
          fill="black"
        />
      </g>
    </svg>
    <svg
      width="31"
      height="30"
      viewBox="0 0 31 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <mask
        id="mask0_712_14183"
        style="mask-type: alpha"
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="31"
        height="30"
      >
        <rect x="0.970459" width="30" height="30" fill="#D9D9D9" />
      </mask>
      <g mask="url(#mask0_712_14183)">
        <path
          d="M8.28296 21.375C9.34546 20.5625 10.533 19.9217 11.8455 19.4525C13.158 18.9842 14.533 18.75 15.9705 18.75C17.408 18.75 18.783 18.9842 20.0955 19.4525C21.408 19.9217 22.5955 20.5625 23.658 21.375C24.3871 20.5208 24.955 19.5521 25.3617 18.4688C25.7675 17.3854 25.9705 16.2292 25.9705 15C25.9705 12.2292 24.9967 9.86958 23.0492 7.92125C21.1009 5.97375 18.7413 5 15.9705 5C13.1996 5 10.8405 5.97375 8.89296 7.92125C6.94463 9.86958 5.97046 12.2292 5.97046 15C5.97046 16.2292 6.17379 17.3854 6.58046 18.4688C6.98629 19.5521 7.55379 20.5208 8.28296 21.375ZM15.9705 16.25C14.7413 16.25 13.7046 15.8283 12.8605 14.985C12.0171 14.1408 11.5955 13.1042 11.5955 11.875C11.5955 10.6458 12.0171 9.60917 12.8605 8.765C13.7046 7.92167 14.7413 7.5 15.9705 7.5C17.1996 7.5 18.2363 7.92167 19.0805 8.765C19.9238 9.60917 20.3455 10.6458 20.3455 11.875C20.3455 13.1042 19.9238 14.1408 19.0805 14.985C18.2363 15.8283 17.1996 16.25 15.9705 16.25ZM15.9705 27.5C14.2413 27.5 12.6163 27.1717 11.0955 26.515C9.57463 25.8592 8.25171 24.9688 7.12671 23.8438C6.00171 22.7188 5.11129 21.3958 4.45546 19.875C3.79879 18.3542 3.47046 16.7292 3.47046 15C3.47046 13.2708 3.79879 11.6458 4.45546 10.125C5.11129 8.60417 6.00171 7.28125 7.12671 6.15625C8.25171 5.03125 9.57463 4.14042 11.0955 3.48375C12.6163 2.82792 14.2413 2.5 15.9705 2.5C17.6996 2.5 19.3246 2.82792 20.8455 3.48375C22.3663 4.14042 23.6892 5.03125 24.8142 6.15625C25.9392 7.28125 26.8296 8.60417 27.4855 10.125C28.1421 11.6458 28.4705 13.2708 28.4705 15C28.4705 16.7292 28.1421 18.3542 27.4855 19.875C26.8296 21.3958 25.9392 22.7188 24.8142 23.8438C23.6892 24.9688 22.3663 25.8592 20.8455 26.515C19.3246 27.1717 17.6996 27.5 15.9705 27.5ZM15.9705 25C17.0746 25 18.1163 24.8388 19.0955 24.5163C20.0746 24.1929 20.9705 23.7292 21.783 23.125C20.9705 22.5208 20.0746 22.0571 19.0955 21.7337C18.1163 21.4112 17.0746 21.25 15.9705 21.25C14.8663 21.25 13.8246 21.4112 12.8455 21.7337C11.8663 22.0571 10.9705 22.5208 10.158 23.125C10.9705 23.7292 11.8663 24.1929 12.8455 24.5163C13.8246 24.8388 14.8663 25 15.9705 25ZM15.9705 13.75C16.5121 13.75 16.96 13.5729 17.3142 13.2188C17.6684 12.8646 17.8455 12.4167 17.8455 11.875C17.8455 11.3333 17.6684 10.8854 17.3142 10.5312C16.96 10.1771 16.5121 10 15.9705 10C15.4288 10 14.9809 10.1771 14.6267 10.5312C14.2725 10.8854 14.0955 11.3333 14.0955 11.875C14.0955 12.4167 14.2725 12.8646 14.6267 13.2188C14.9809 13.5729 15.4288 13.75 15.9705 13.75Z"
          fill="black"
        />
      </g>
    </svg>

    <p>Direktnachricht</p>
  </div>

  <div class="channels_content" [class.hidden]="!isAvatarContentVisible">
    <div class="groups_btn d_flex">
      <ul>
        @for(person of firebase.allUsersList; track $index){
        <li>
          <div class="avatar_content">
            <div
              class="status_btn"
              [ngStyle]="{
                'background-color': person.status ? '#92c83e' : '#b7b7b7'
              }"
            ></div>
            <img [src]="'./' + person.avatar" [alt]="person.fullname" />
            <p>{{ person.fullname }}</p>
          </div>
        </li>
        }
      </ul>
    </div>
  </div>
</section>
